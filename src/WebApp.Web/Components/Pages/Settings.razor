@page "/settings"

<h1>Settings</h1>

<EditForm Model="settingsModel" OnValidSubmit="HandleValidSubmit">
	<div class="mb-3">
		<label for="provider" class="form-label">AI Provider</label>
		<select id="provider" class="form-select" @bind="settingsModel.Provider">
			<option value="AzureOpenAI">Azure OpenAI</option>
			<option value="HuggingFace">Hugging Face</option>
			<option value="GitHub">GitHub</option>
		</select>
	</div>
	<div class="mb-3">
		<label for="apiKey" class="form-label">API Key</label>
		<input id="apiKey" type="text" class="form-control" @bind="settingsModel.ApiKey" />
	</div>
	<div class="mb-3">
		<label for="endpoint" class="form-label">Endpoint</label>
		<input id="endpoint" type="text" class="form-control" @bind="settingsModel.Endpoint" />
	</div>
	<button type="submit" class="btn btn-primary">저장</button>
</EditForm>

@if (!string.IsNullOrEmpty(successMessage))
{
	<div class="alert alert-success mt-3">@successMessage</div>
}

@code {
	public class SettingsModel
	{
		public string Provider { get; set; } = "AzureOpenAI";
		public string ApiKey { get; set; } = string.Empty;
		public string Endpoint { get; set; } = string.Empty;
	}

	private SettingsModel settingsModel = new();
	private string? successMessage;

	private void HandleValidSubmit()
	{
		// 실제 저장 로직은 추후 구현
		successMessage = "설정이 저장되었습니다!";
	}
}
